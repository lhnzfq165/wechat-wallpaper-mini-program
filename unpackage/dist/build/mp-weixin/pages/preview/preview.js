(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/preview/preview"],{"0c52":function(e,n,o){"use strict";(function(e,n){var t=o("4ea4");o("33bf");t(o("66fd"));var a=t(o("7914"));e.__webpack_require_UNI_MP_PLUGIN__=o,n(a.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"6b8a":function(e,n,o){"use strict";var t=o("d46a"),a=o.n(t);a.a},"74ce":function(e,n,o){"use strict";o.d(n,"b",(function(){return a})),o.d(n,"c",(function(){return u})),o.d(n,"a",(function(){return t}));var t={uNavbar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(o.bind(null,"2473"))},uTabbar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-tabbar/u-tabbar")]).then(o.bind(null,"2128"))},uTabbarItem:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-tabbar-item/u-tabbar-item")]).then(o.bind(null,"b2e8"))},uModal:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(o.bind(null,"93cf"))}},a=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.downOneShow=!0},e.e1=function(n){e.downOneShow=!1})},u=[]},7914:function(e,n,o){"use strict";o.r(n);var t=o("74ce"),a=o("e7bb");for(var u in a)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return a[e]}))}(u);o("6b8a");var i=o("f0c5"),c=Object(i["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);n["default"]=c.exports},d46a:function(e,n,o){},e3d2:function(e,n,o){"use strict";(function(e,t){var a=o("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=a(o("2eee")),i=a(o("c973")),c=null,r=o("cf59"),s={data:function(){return{downOneShow:!1,isDownloadStatus:!0,code:403,title:"提示",downOneContent:"普通下载会消耗1积分。无消耗下载不会消耗积分。",src:"http://up1.bdcdn.bizhiduoduo.com/wallpaper/wp-upload/20201114/db6d78982a1f4b9d0446ad1a7e804383.jpg"}},onLoad:function(n){var o=this;e.getStorage({key:"url",success:function(n){o.src=n.data,e.removeStorage({key:"url"})}}),e.getStorage({key:"setting",success:function(n){"0"===n.data.seStatus?(o.isDownloadStatus=!1,o.downOneContent="下载图片会消耗1积分"):t.createRewardedVideoAd&&(c=t.createRewardedVideoAd({adUnitId:n.data.seIncentive}),c.onLoad((function(){console.log("onLoad event emit")})),c.onError((function(e){console.log("onError event emit",e)})),c.onClose((function(n){n&&n.isEnded?(e.showToast({icon:"error",title:"已获得奖励"}),o.downOneShow=!1,o.downloadOnePicture()):e.showToast({icon:"error",title:"未获得奖励"})})))}})},watch:{code:function(n,o){200==n&&(e.hideLoading(),e.showToast({title:"已保存到相册",icon:"success",duration:3e3}))}},methods:{downloadPicDeleteUserCount:function(n,o){var t=this;return(0,i.default)(u.default.mark((function a(){var i;return u.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r._getRequest({url:"/downloadPicDeleteUserCount?num="+n+"&openid="+o,method:"GET"});case 2:i=a.sent,200===i.data["code"]?(t.downOneShow=!1,t.dow(),e.setStorageSync("userinfo",i.data["data"]["userinfo"])):e.showToast({icon:"error",title:"网络错误"});case 4:case"end":return a.stop()}}),a)})))()},download1:function(){var n=this;e.getStorage({key:"userinfo",success:function(o){n.downOneShow=!1,o.data.uCount<1?e.showToast({icon:"error",title:"积分不足"}):e.$u.throttle((function(){return n.downloadPicDeleteUserCount(1,o.data.uOpenid)}),1200)},fail:function(){e.showToast({icon:"error",title:"用户未登录"})}})},showAd:function(){c.show().catch((function(){c.load().then((function(){return c.show()})).catch((function(n){console.log(n),e.showToast({icon:"error",title:"广告显示失败"})}))}))},dow:function(){this.code=403,e.showLoading({title:"拼命下载中"});var n=this.src;this.download(n,0)},download:function(n,o){var t=this;e.downloadFile({url:n,success:function(n){e.saveImageToPhotosAlbum({filePath:n.tempFilePath,success:function(){0==o&&(t.code=200)},fail:function(n){"saveImageToPhotosAlbum:fail:auth denied"!==n.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==n.errMsg&&"saveImageToPhotosAlbum:fail authorize no response"!==n.errMsg||e.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(n){e.openSetting({success:function(n){console.log("settingdata",n),n.authSetting["scope.writePhotosAlbum"]?e.showModal({title:"提示",content:"获取权限成功,再次点击图片即可保存",showCancel:!1}):e.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1})},fail:function(e){console.log("failData",e)},complete:function(e){console.log("finishData",e)}})}})}})},fail:function(e){console.log(e)}})}}};n.default=s}).call(this,o("543d")["default"],o("bc2e")["default"])},e7bb:function(e,n,o){"use strict";o.r(n);var t=o("e3d2"),a=o.n(t);for(var u in t)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return t[e]}))}(u);n["default"]=a.a}},[["0c52","common/runtime","common/vendor"]]]);