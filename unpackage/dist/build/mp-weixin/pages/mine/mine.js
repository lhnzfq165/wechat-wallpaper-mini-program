(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{"1ef3":function(e,n,t){"use strict";(function(e){var u=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(t("2eee")),i=u(t("c973")),a=t("cf59"),r={data:function(){return{ad_id:"",isShowAd:"0",jifenlabel:"当前剩余:9999",imageurl:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=7d913b1a31f6cf66d71bebde97d1bd30",show:!1,username:"用户",avatarUrl:"",nickname:""}},mounted:function(){var n=this;this.setUserInfo(),e.getStorage({key:"setting",success:function(e){"1"===e.data.seStatus&&(n.isShowAd="1",n.ad_id=e.data.seBanner)}})},methods:{showT:function(){e.showToast({title:"还在开发中..."})},setUserInfo:function(){var n=this;e.getStorage({key:"userinfo",success:function(e){n.imageurl=e.data.uAvatarurl,n.username=e.data.uName,n.jifenlabel="当前剩余:"+e.data.uCount,n.close()},fail:function(){e.showToast({icon:"error",title:"出问题了！"})}})},updateImage:function(n,t){var u=this;return(0,i.default)(o.default.mark((function i(){var r,s;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,a._updateFile({url:"/updateUserAvatar",filePath:t,fileName:"image",formData:{name:u.nickname,id:n}});case 2:r=o.sent,s=JSON.parse(r.data),200===s["code"]?(e.setStorageSync("userinfo",s["data"]["userinfo"]),u.setUserInfo()):e.showToast({icon:"error",title:"服务器出现问题咯！"});case 5:case"end":return o.stop()}}),i)})))()},edit:function(){var n=this;""==this.nickname?e.showToast({icon:"error",title:"名称不能为空！"}):e.getStorage({key:"userinfo",success:function(t){e.downloadFile({url:n.avatarUrl,success:function(e){200===e.statusCode&&(console.log("下载成功"),n.updateImage(t.data.uId,e.tempFilePath))}})},fail:function(){e.showToast({icon:"error",title:"未登录！"})}})},open:function(){this.avatarUrl=this.imageurl,this.nickname=this.username},showTos:function(){this.show=!0},close:function(){this.show=!1},bindblur:function(e){this.nickname=e},bindinput:function(e){this.nickName=e},onChooseavatar:function(e){this.avatarUrl=e.detail.avatarUrl}}};n.default=r}).call(this,t("543d")["default"])},"415f":function(e,n,t){"use strict";t.r(n);var u=t("1ef3"),o=t.n(u);for(var i in u)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return u[e]}))}(i);n["default"]=o.a},6841:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return u}));var u={"u-Text":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--text/u--text")]).then(t.bind(null,"10ba"))},uCellGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-cell-group/u-cell-group")]).then(t.bind(null,"0b0f"))},uCell:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(t.bind(null,"22f8"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"9496"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"f504"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"4968"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"61e2"))}},o=function(){var e=this.$createElement;this._self._c},i=[]},"6f90":function(e,n,t){"use strict";var u=t("c416"),o=t.n(u);o.a},"7a54":function(e,n,t){"use strict";t.r(n);var u=t("6841"),o=t("415f");for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("6f90");var a=t("f0c5"),r=Object(a["a"])(o["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],void 0);n["default"]=r.exports},"88df":function(e,n,t){"use strict";(function(e,n){var u=t("4ea4");t("33bf");u(t("66fd"));var o=u(t("7a54"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},c416:function(e,n,t){}},[["88df","common/runtime","common/vendor"]]]);